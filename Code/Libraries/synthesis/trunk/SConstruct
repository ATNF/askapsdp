# @file
# SConstruct build script for this module.
# This is currently a test case, please edit this comment when deemed stable
#
# @author Malte Marquarding <Malte.Marquarding@csiro.au>
#

# Always import this
from conradenv import env

env.Append(CCFLAGS=['-O2'])
env.Append(CCFLAGS=['-ftree-vectorize'])
#env.Append(CCFLAGS=['-D_GLIBCXX_DEBUG'])


# Add casacore package from tag 0.1.1
# This will pull in all packages it depends on
env.AddConradPackage("boost", "ThirdPartyLibraries/boost/tags/boost-1.33.1")
env.AddConradPackage("fitting", "Code/Libraries/scimath/trunk/")
#env.AddConradPackage("plplot", "ThirdPartyLibraries/plplot/tags/plplot-5.7.3")
env.AddConradPackage("casacore", 
		     "ThirdPartyLibraries/casacore/tags/casacore-0.1.1")
		     
# add the casacore build tool, this will pull in all casacore specific
# build flags
env.Tool('casa')

# create build object with library name
pkg = env.ConradPackage("synthesis")
# add sub packages 
pkg.AddSubPackage("measurementequation")
pkg.AddSubPackage("dataaccess")
pkg.AddSubPackage("gridding")

# run the build process
pkg()

